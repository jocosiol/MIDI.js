from midiutil import MIDIFile

# Create a MIDI file with one track
midi = MIDIFile(1)

# Track, Time, Duration, and Tempo settings
track = 0
time = 0
duration = 1
tempo_intro = 80
tempo_dev = 120
tempo_concl = 70

midi.addTempo(track, time, tempo_intro)

# Add notes for each section (simplified example)
# Introduction (C Major)
midi.addNote(track, 0, 60, time, duration, 64)  # C4
midi.addNote(track, 0, 64, time + 1, duration, 64)  # E4
midi.addNote(track, 0, 67, time + 2, duration, 64)  # G4

# Change tempo for development
time += 4
midi.addTempo(track, time, tempo_dev)
midi.addNote(track, 0, 67, time, duration, 64)  # G4
midi.addNote(track, 0, 71, time + 0.5, duration, 64)  # B4
midi.addNote(track, 0, 74, time + 1, duration, 64)  # D5

# Change tempo for conclusion
time += 4
midi.addTempo(track, time, tempo_concl)
midi.addNote(track, 0, 60, time, duration, 64)  # C4
midi.addNote(track, 0, 64, time + 1, duration, 64)  # E4
midi.addNote(track, 0, 67, time + 2, duration, 64)  # G4

# Save the MIDI file
with open("beginner_symphony.mid", "wb") as output_file:
    midi.writeFile(output_file)
